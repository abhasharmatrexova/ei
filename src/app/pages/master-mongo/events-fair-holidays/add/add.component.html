<!-- Start Breadcrumbs -->
<app-breadcrumbs title="Events Fair Holidays" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<!-- End Breadcrumbs -->

<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title mb-0"></h4>
            </div>
            <div id="elmLoader">
                <div class="spinner-border text-primary avatar-sm" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
              </div>
            <div class="card-body">
               
                <form [formGroup]="parentForm" (ngSubmit)="onSubmit()">

                <div class="row gy-4">
                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Country</h5>
                            <div class="light">                                
                                <app-select  
                                [parentForm]="parentForm" 
                                [placeholder]="'Country'" 
                                [items]="countries" 
                                [isCodeRequired]="true" 
                                [submit]="submitted" 
                                [controlName]="'country'">
                                </app-select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">City</h5>
                            <div class="light">                                
                                <app-select  
                                [parentForm]="parentForm" 
                                [placeholder]="'City'" 
                                [items]="cities" 
                                [isCodeRequired]="true" 
                                [submit]="submitted" 
                                [controlName]="'city'">
                                </app-select>
                            </div>
                        </div>
                    </div>
                
                
                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Start Date</h5>
                            <div class="light">
                                <app-picker  
                                [type]="2"
                                [submit]="submitted" 
                                [parentForm]="parentForm" 
                                [placeholder]="'Start Date'"
                                [controlName]="'start_date'">
                                </app-picker>                               
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">End Date</h5>
                            <div class="light">
                                <app-picker  
                                [type]="2"
                                [submit]="submitted" 
                                [parentForm]="parentForm" 
                                [placeholder]="'End Date'"
                                [controlName]="'end_date'">
                                </app-picker>
                            </div>
                        </div>
                    </div>
                
                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Name</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'name'"
                                [type]="'text'"
                                [placeholder]="'Name'">
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Details</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'details'"
                                [type]="'text'"
                                [placeholder]="'Details'">
                                </app-fields>
                            </div>
                        </div>
                    </div>
                
                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Weblink</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'web_link'"
                                [type]="'text'"
                                [placeholder]="'Weblink'">
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Google Location</h5>
                            <div class="light">
                                <app-place-autocomplete
                                    [parentForm]="parentForm"
                                    [submit]="submitted"
                                    [controlName]="'location'"
                                    [type]="'text'"                                
                                    [placeholder]="'Enter location'"
                                    (setAddress)="getAddress($event)">
                                </app-place-autocomplete>
                            </div>
                        </div>
                    </div>
                
                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Rank</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'rank'"
                                [type]="'number'"
                                [placeholder]="'Rank'">
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Htl MarkUp Percentage</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'htl_markup_percent'"
                                [type]="'number'"
                                [placeholder]="'Htl MarkUp Percentage'">
                                </app-fields>
                            </div>
                        </div>
                    </div>
                
                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Rst MarkUp Percentage</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'rst_markup_percent'"
                                [type]="'number'"
                                [placeholder]="'Rst MarkUp Percentage'">
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Mtc MarkUp Percentage</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'mtc_markup_percent'"
                                [type]="'number'"
                                [placeholder]="'Mtc MarkUp Percentage'">
                                </app-fields>
                            </div>
                        </div>
                    </div>
               
                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Gui MarkUp Percentage</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'gui_markup_percent'"
                                [type]="'number'"
                                [placeholder]="'Gui MarkUp Percentage'">
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Ent MarkUp Percentage</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'ent_markup_percent'"
                                [type]="'number'"
                                [placeholder]="'Ent MarkUp Percentage'">
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Trn MarkUp Percentage</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'trn_markup_percent'"
                                [type]="'number'"
                                [placeholder]="'Trn MarkUp Percentage'">
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Fry MarkUp Percentage</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'fry_markup_percent'"
                                [type]="'number'"
                                [placeholder]="'Fry MarkUp Percentage'">
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    

                    <div class="col-sm-4">
                        <div>
                            <h5 class="fs-sm fw-medium text-muted">Images</h5>
                            <div class="light">
                                <app-fields
                                [parentForm]="parentForm"
                                [submit]="submitted"
                                [controlName]="'file'"
                                [type]="'file'"
                                [placeholder]="'Attachments Title'"
                                multiple=""
                                (change)="onFileChange($event)" >
                                </app-fields>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12">
                        <div class="image-container">

                            <div *ngFor="let media of mediaFiles; let index = index" class="image-item">
                                <img [src]="media" alt="" height="100px" width="100px">
                                <span class="image-prev-close" (click)="deleteImage(index,'1')">X</span>
                            </div>

                            <div *ngFor="let media of oldfiles; let index = index" class="image-item">
                                <img [src]="getImage(media)" alt="" height="100px" width="100px">
                                <span class="image-prev-close" (click)="deleteImage(index,'2')">X</span>
                            </div>

                        </div>
                    </div>

                </div>

                <div class="row gy-4 pt-3">
                    <div class="col-sm-4">
                       <app-button [buttonType]="'primary'" [disabled]="submitted"></app-button>
                       <a routerLink="/fairs-events-festivals" class="btn btn-danger ms-2">Cancel</a>
                    </div>
                </div>

            </form>


            </div>
            <!-- end card body -->
        </div>
        <!-- end card -->
    </div>
    <!-- end col -->
</div>
<!-- end row -->